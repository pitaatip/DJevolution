{% extends "base.html" %}

{% block menu_up %}
    <div id="talltabs-orange">
        <ul>
            <li class="active"><a href="#"><span>General results</span></a></li>
            <li><a href="#"><span>Partial results</span></a></li>
            <li><a href="#"><span>Related Configuration</span></a></li>
        </ul>
    </div>
{% endblock %}

{% block menu_left %}
    <ul>
        <li class="active"><a href="/VisualControllerApp/">Computation List</a></li>
        <li ><a href="/VisualControllerApp/orderComputation/">Order Computation</a></li>
        <li><a href="#">Cluster Status</a></li>
    </ul>
{% endblock %}

{% block content %}

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="{{ STATIC_URL }}highcharts.js" type="text/javascript"></script>

    <script>
        var chart;
        $(document).ready(function() {
            chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    type: 'scatter',
                    inverted: true,
                    width: 800
                },
                title: {
                    text: 'Pareto Front'
                },
                subtitle: {
                    text: '{{ comp.algorithm }}'
                },
                xAxis: {
                    reversed: false,
                    title: {
                        enabled: true,
                        text: 'f1'
                    },

                    maxPadding: 0.05,
                    showLastLabel: true
                },
                yAxis: {
                    title: {
                        text: 'f2'
                    },

                    lineWidth: 2
                },
                legend: {
                    enabled: false
                },
                tooltip: {
                    formatter: function() {
                        return 'f1: '+
                                this.x +' f2: '+ this.y;
                    }
                },
                plotOptions: {
                    spline: {
                        marker: {
                            enable: false
                        }
                    }
                },
                series: [{
                    name: 'data',
                    data:     [
                            {% for val in comp.new_result %}
                                {{ val }},
                            {% endfor %}
                ]
                }]
            });
        });


    </script>

<h2>Computation details</h2>
<h2>Algorithm: </h2>
<p>{{ comp.algorithm }}</p>
<h2>Computation created on: </h2>
<p>{{ comp.created_on }}</p>
<h2>Population size: </h2>
<p>{{ comp.population_size }}<p>
<h2>Computation time: </h2>
<p>{{ comp.computation_time}}<p>

<div id="container" style="width: 100%; height: 400px"></div>

<a href="/VisualControllerApp/"><button type="button">Back</button></a>

{% endblock %}