{% extends "computation/baseDetails.html" %}

{% block menu_up %}
    <div id="talltabs-orange">
        <ul>
            <li class="active"><a href="/VisualControllerApp/comp/{{pk}}"><span>General results</span></a></li>
            <li><a href="/VisualControllerApp/computation/partial/{{pk}}"><span>Partial results</span></a></li>
            <li><a href="/VisualControllerApp/computation/configuration/{{pk}}"><span>Related Configuration</span></a></li>
        </ul>
    </div>
{% endblock %}

{% block content %}

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="{{ STATIC_URL }}highcharts.js" type="text/javascript"></script>

    <script>
        var chart;
        $(document).ready(function() {
            chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    type: 'spline',
                    inverted: true,
                    width: 800
                },
                title: {
                    text: 'Pareto Front'
                },
                colors: [
                    '#f78d1d',
                    '#AA4643',
                    '#89A54E',
                    '#80699B',
                    '#3D96AE',
                    '#DB843D',
                    '#92A8CD',
                    '#A47D7C',
                    '#B5CA92'
                ],
                subtitle: {
                    text: '{{ comp.algorithm }}'
                },
                xAxis: {
                    reversed: false,
                    title: {
                        enabled: true,
                        text: 'f1'
                    },
                    gridLineColor: "#6bbb06",
                    lineColor: "#6bbb06",
                    minorGridLineColor: "#6bbb06",
                    minorTickColor: "#6bbb06",
                    tickColor: "#6bbb06",
                    maxPadding: 0.05,
                    showLastLabel: true
                },
                yAxis: {
                    title: {
                        text: 'f2'
                    },
                    gridLineColor: "#6bbb06",
                    lineColor: "#6bbb06",
                    minorGridLineColor: "#6bbb06",
                    minorTickColor: "#6bbb06",
                    tickColor: "#6bbb06",

                    lineWidth: 2
                },
                legend: {
                    enabled: false
                },
                tooltip: {
                    formatter: function() {
                        return 'f1: '+
                                this.x +' f2: '+ this.y;
                    }
                },
                plotOptions: {
                    spline: {
                        marker: {
                            enable: false
                        }
                    }
                },
                series: [{
                    name: 'data',
                    data:     [
                            {% for val in comp.new_result %}
                                {{ val }},
                            {% endfor %}
                ]
                }]
            });
        });


    </script>

<h2>Computation details</h2>
<h2>Algorithm: </h2>
<p>{{ comp.algorithm }}</p>
<h2>Problem: </h2>
<p>{{ comp.problem }}</p>
<h2>Computation created on: </h2>
<p>{{ comp.created_on }}</p>
<h2>Population size: </h2>
<p>{{ comp.population_size }}<p>
<h2>Computation time: </h2>
<p>{{ comp.computation_time}}<p>

<div id="container" style="width: 100%; height: 400px"></div>

<a href="/VisualControllerApp"><button type="button">Back</button></a>

{% endblock %}